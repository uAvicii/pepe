<script setup lang="ts">
import { computed } from 'vue'

// ç¦ç”¨åˆ é™¤å¤„æ–¹
const props = defineProps<{ disabled?: boolean }>()
// ğŸ’¥ğŸ’¥æ³¨æ„ï¼šä½¿ç”¨è®¡ç®—å±æ€§ï¼Œprops.disabledåˆšå¼€å§‹å¯èƒ½ä¸ºundefined
const actions = computed(() => [
  { text: 'æŸ¥çœ‹å¤„æ–¹', disabled: props.disabled },
  { text: 'åˆ é™¤è®¢å•' }
])

interface Emits {
  (name: 'on-del'): void
  (name: 'on-preview'): void
}
const emit = defineEmits<Emits>()

const onSelect = (action: { text: string }, i: number) => {
  if (i === 0) emit('on-preview')
  if (i === 1) emit('on-del')
}
</script>

<template>
  <div class="cp-consult-more">
    <van-popover placement="top-start" :actions="actions" @select="onSelect">
      <template #reference> æ›´å¤š </template>
    </van-popover>
  </div>
</template>
<style lang="scss" scoped>
.cp-consult-more {
  flex: 1;
  color: var(--cp-tag);
}
</style>
